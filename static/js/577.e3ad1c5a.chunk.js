"use strict";(self.webpackChunkinstagram=self.webpackChunkinstagram||[]).push([[577],{3577:function(e,n,s){s.r(n),s.d(n,{default:function(){return v}});var t=s(5861),r=s(885),l=s(7757),o=s.n(l),a=s(6871),c=s(2791),i=s(7606),u=s(4693),d=s(3287),f=s(1413),m=s(6839),h=s(6920),p=s(184);function x(e){var n=e.photosCount,s=e.followerCount,l=e.setFollowerCount,a=e.profile,u=a.docId,d=a.userId,f=(a.fullName,a.followers),x=void 0===f?[]:f,w=a.following,g=void 0===w?[]:w,v=a.username,j=(0,c.useState)(!1),N=(0,r.Z)(j,2),b=N[0],C=N[1],y=(0,h.Z)().user,Z=void 0===y?{}:y,k=(null===Z||void 0===Z?void 0:Z.username)&&(null===Z||void 0===Z?void 0:Z.username)!==v,F=function(){var e=(0,t.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C((function(e){return!e})),l({followerCount:b?s-1:s+1}),e.next=4,(0,i.Gm)(b,Z.docId,u,d,Z.userId);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){function e(){return(e=(0,t.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.IU)(Z.username,d);case 2:n=e.sent,C(!n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Z.username,d&&function(){e.apply(this,arguments)}()}),[Z.username,d]),i.dQ,(0,p.jsxs)("div",{className:"grid grid-cols-3 gap-4 justify-between m-auto max-w-screen-lg",children:[(0,p.jsx)("div",{className:"flex justify-center container",children:Z.username&&"abdelrahman kalefa"==v||"dali"==v||"orwell"==v||"raphael"==v?(0,p.jsx)("img",{src:"/images/avatars/".concat(v,".jpg"),alt:"".concat(Z.username),className:"rounded-full sm:w-40 w-20 h-20 sm:h-40 flex"}):(0,p.jsx)("img",{src:"/images/avatars/default.png",className:"rounded-full sm:w-40 w-20 h-20 sm:h-40 flex",alt:"".concat(Z.username)})}),(0,p.jsxs)("div",{className:"flex items-center justify-center flex-col col-span-2 ",children:[(0,p.jsxs)("div",{className:" items-center container flex",children:[(0,p.jsx)("p",{className:" text-2xl mr-4",children:v}),k&&(0,p.jsx)("button",{type:"button",onClick:F,className:" bg-blue-medium font-bold text-center rounded text-white w-20 h-8",children:b?"unfollow":"follow"})]}),(0,p.jsx)("div",{className:"container flex flex-wrap mt-4",children:void 0==x||void 0==g?(0,p.jsx)(m.Z,{count:1,height:677,width:24}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("p",{className:"mr-10",children:[(0,p.jsx)("span",{className:"font-bold",children:n})," Photos"]}),(0,p.jsxs)("p",{className:"mr-10",children:[(0,p.jsx)("span",{className:"font-bold",children:s})," ",1==s?"Follower":"Followers"]}),(0,p.jsxs)("p",{className:"mr-10",children:[(0,p.jsx)("span",{className:"font-bold",children:g.length})," Following"]})]})})]})]})}function w(e){var n=e.photos;return(0,p.jsxs)("div",{className:"h-16  border-t border-gray-primary mt-12 pt-4",children:[(0,p.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 sm:gap-8 mt-4 mb-12",children:n?n.length>0?n.map((function(e){return(0,p.jsxs)("div",{className:"relative group",children:[(0,p.jsx)("img",{src:e.imageSrc,alt:e.caption}),(0,p.jsxs)("div",{className:"absolute bottom-0 left-0 bg-gray-200 z-10 w-full justify-evenly items-center h-full bg-black-faded group-hover:flex hidden",children:[(0,p.jsxs)("p",{className:"flex items-center text-white font-bold",children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-8 mr-4",children:(0,p.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),e.likes.length]}),(0,p.jsxs)("p",{className:"flex items-center text-white font-bold",children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-8 mr-4",children:(0,p.jsx)("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),e.comments.length]})]})]},e.docId)})):null:(0,p.jsx)(m.Z,{count:12,width:320,height:400})}),!n||0==n.length&&(0,p.jsx)("p",{className:"text-2xl text-center",children:"No Posts Yet"})]})}function g(e){var n=e.user,s=(0,c.useReducer)((function(e,n){return(0,f.Z)((0,f.Z)({},e),n)}),{profile:{},photoCollection:[],followerCount:0}),l=(0,r.Z)(s,2),a=l[0],u=a.profile,d=a.photoCollection,m=a.followerCount,h=l[1];return(0,c.useEffect)((function(){function e(){return(e=(0,t.Z)(o().mark((function e(){var s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.JR)(n.username);case 2:s=e.sent,h({profile:n,photoCollection:s,followerCount:n.followers.length}),console.log(s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n.username]),(0,p.jsxs)(p.Fragment,{children:[" ",(0,p.jsx)(x,{photosCount:d?d.length:0,profile:u,followerCount:m,setFollowerCount:h}),(0,p.jsx)(w,{photos:d})]})}function v(){var e=(0,a.UO)().username,n=(0,c.useState)(!1),s=(0,r.Z)(n,2),l=s[0],f=s[1],m=(0,c.useState)(null),h=(0,r.Z)(m,2),x=h[0],w=h[1],v=(0,a.s0)();return(0,c.useEffect)((function(){function n(){return n=(0,t.Z)(o().mark((function n(){var s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.dQ)(e);case 2:(s=n.sent).length>0?(w(s[0]),f(!0)):v(u.Hi);case 4:case"end":return n.stop()}}),n)}))),n.apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[e]),l?(0,p.jsxs)("div",{className:" bg-gray-background",children:[(0,p.jsx)(d.Z,{}),(0,p.jsxs)("div",{className:" m-auto max-w-screen-lg",children:[(0,p.jsx)(g,{user:x})," "]})]}):null}}}]);
//# sourceMappingURL=577.e3ad1c5a.chunk.js.map