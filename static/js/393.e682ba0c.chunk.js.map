{"version":3,"file":"static/js/393.e682ba0c.chunk.js","mappings":"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","sources":["components/header.js","hooks/use-user.js","services/firebase.js","../javascript/esm|C:/Users/COMPUMAGIC GROUP/instagram/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../javascript/esm|C:/Users/COMPUMAGIC GROUP/instagram/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../javascript/esm|C:/Users/COMPUMAGIC GROUP/instagram/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/react-loading-skeleton/dist/index.mjs"],"sourcesContent":[" \r\n//import { firebase } from \"../lib/firebase\"\r\nimport { useContext } from \"react\"\r\nimport React from \"react\";\r\nimport userathContext from \"../context/user\"\r\nimport { Link } from \"react-router-dom\";\r\nimport * as ROUTS from \"../constants/routs\";\r\nimport { getAuth, signOut } from \"firebase/auth\";\r\n\r\nconst auth = getAuth();\r\nexport default function Header(){\r\nconst user=useContext(userathContext);\r\n    return(\r\n        <header className=\"h-16 bg-white border border-gray-primary mb-8\">\r\n<div className=\"container mx-auto max-w-screen-lg h-full\">\r\n    <div className=\"flex  h-full justify-between\">\r\n<div className=\"text-gray-600 text-center  items-center align-items cursor-pointer\">\r\n    <h1 className=\"flex justify-center   w-full\">\r\n        <Link to={ROUTS.DASHBOARD}>  <img\r\n              src=\"/images/logo.png\"\r\n              alt=\"logo\"\r\n              className=\"mt-4 mr-2 w-6/12 mb-4\"\r\n            /></Link>\r\n    </h1>\r\n</div>\r\n<div className=\"flex text-gray-700 text-center align-items items-center \">\r\n    {user?\r\n<>(\r\n<Link to={ROUTS.DASHBOARD} aria-label=\"Dashboard\">\r\n<svg\r\n  className=\"w-8 mr-6 text-black-light cursor-pointer\"\r\n  xmlns=\"http://www.w3.org/2000/svg\"\r\n  fill=\"none\"\r\n  viewBox=\"0 0 24 24\"\r\n  stroke=\"currentColor\"\r\n>\r\n  <path\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    strokeWidth={2}\r\n    d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\r\n  />\r\n</svg>\r\n\r\n</Link>\r\n<button type=\"button\"\r\ntitle=\"Log Out\"\r\nonClick={()=>signOut(auth)}\r\nonKeyDown={(event)=>{\r\nif(event.key=='Enter'){\r\n    signOut(auth);\r\n}}}\r\n>\r\n<svg\r\n                    className=\"w-8 mr-6 text-black-light cursor-pointer\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\r\n                    />\r\n                  </svg>\r\n</button>\r\n<div className=\"flex items-center cursor-pointer\">\r\n<Link to={`/p/${user.displayName}`}>\r\n  {user.displayName=='Abdelrahman kalefa'||user.displayName=='dali'||user.displayName=='orwell'||user.displayName=='raphael' ?\r\n  <img className=\"flex rounded-full h-8 w-8\"\r\n   src={`images/avatars/${user.displayName}.jpg`}\r\n  alt={`${user.displayName}`}\r\n  />:<img className=\"flex rounded-full h-8 w-8\"\r\n  src={`images/avatars/default.png`}\r\n alt={`${user.displayName}`}/>\r\n}\r\n</Link>\r\n</div>\r\n</>:(\r\n<>\r\n<Link to={ROUTS.LOGIN} ><button className=\"w-20 font-bold bg-blue-medium text-white text-sm rounded h-8 \"> Log In</button></Link>\r\n<Link to={ROUTS.SIGN_UP} ><button className=\"w-20 font-bold   text-blue-medium text-sm rounded h-8 \">Sign up</button></Link>\r\n\r\n</>)\r\n}\r\n</div>\r\n    </div>\r\n</div>\r\n        </header>\r\n\r\n\r\n    )\r\n}","import { useState, useEffect } from \"react\";\r\nimport { getUseobjbyId } from \"../services/firebase\";\r\n//import userathContext from'../context/user'\r\n\r\nimport useAuthListener from \"../hooks/use-auth-listener\";\r\nexport default function useUser() {\r\n  const [activeUser, setActiveUser] = useState();\r\n  const { user } = useAuthListener();\r\n\r\n  useEffect(() => {\r\n    async function getUserObjByUserId(user) {\r\n      const [response] = await getUseobjbyId(user);\r\n      setActiveUser(response);\r\n    }\r\n\r\n    if (user?.uid) {\r\n      getUserObjByUserId(user.uid);\r\n    }\r\n  }, [user]);\r\n\r\n  return { user: activeUser, setActiveUser };\r\n}\r\n","import { firebase, FieldValue } from \"../lib/firebase\";\r\nexport async function doesUsernameExist(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", username.toLowerCase())\r\n    .get();\r\n\r\n  return result.docs.length > 0;\r\n}\r\n\r\nexport async function getUserByUsername(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", username.toLowerCase())\r\n    .get();\r\n\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n\r\n// get user from the firestore where userId === userId (passed from the auth)\r\nexport async function getUseobjbyId(userId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"userId\", \"==\", userId)\r\n    .get();\r\n  const user = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n\r\n  return user;\r\n}\r\n\r\nexport async function getsuggetionProfile(userId, following) {\r\n  const result = await firebase.firestore().collection(\"users\").limit(10).get();\r\n\r\n  return result.docs\r\n    .map((user) => ({\r\n      ...user.data(),\r\n      docId: user.id,\r\n    }))\r\n    .filter(\r\n      (profile) =>\r\n        profile.userId != userId && !following.includes(profile.userId)\r\n    );\r\n}\r\n\r\nexport async function updateloginusflw(maindocId, profileId, isFollowing) {\r\n  await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(maindocId)\r\n    .update({\r\n      following: isFollowing\r\n        ? FieldValue.arrayRemove(profileId)\r\n        : FieldValue.arrayUnion(profileId),\r\n    });\r\n}\r\n\r\nexport async function updateflwruser(userId, userDocId, isFollowing) {\r\n  await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(userDocId)\r\n    .update({\r\n      followers: isFollowing\r\n        ? FieldValue.arrayRemove(userId)\r\n        : FieldValue.arrayUnion(userId),\r\n    });\r\n}\r\n\r\nexport async function getphoto(userId, following) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .where(\"userId\", \"in\", following)\r\n    .get();\r\n  const userFollowingPhotos = result.docs.map((photo) => ({\r\n    ...photo.data(),\r\n    docId: photo.id,\r\n  }));\r\n\r\n  const photoWithuserDetails = await Promise.all(\r\n    userFollowingPhotos.map(async (photo) => {\r\n      let userLikedphoto = false;\r\n      if (photo.likes.includes(userId)) {\r\n        userLikedphoto = true;\r\n      }\r\n\r\n      const user = await getUseobjbyId(photo.userId);\r\n\r\n      const { username } = user[0];\r\n\r\n      return { username, ...photo, userLikedphoto };\r\n    })\r\n  );\r\n\r\n  return photoWithuserDetails;\r\n}\r\n\r\nexport async function getuserPhotosByUsername(username) {\r\n  const [user] = await getUserByUsername(username);\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .where(\"userId\", \"==\", user.userId)\r\n    .get();\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n\r\nexport async function isUserFollowingProfile(\r\n  loggedInUserUsername,\r\n  profileUserId\r\n) {\r\n  console.log(loggedInUserUsername, profileUserId);\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", loggedInUserUsername) //  (active logged in user)\r\n    .where(\"following\", \"array-contains\", profileUserId)\r\n    .get();\r\n\r\n  const [response = {}] = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n  console.log(\"res\", response);\r\n  // return response.userId;\r\n}\r\n\r\nexport async function toggleFollow(\r\n  isFollowingProfile,\r\n  activeUserDocId,\r\n  profileDocId,\r\n  profileUserId,\r\n  followingUserId\r\n) {\r\n  // 1st param: karl's doc id\r\n  // 2nd param: raphael's user id\r\n  // 3rd param: is the user following this profile? e.g. does karl follow raphael? (true/false)\r\n  await updateloginusflw(activeUserDocId, profileUserId, isFollowingProfile);\r\n\r\n  // 1st param: karl's user id\r\n  // 2nd param: raphael's doc id\r\n  // 3rd param: is the user following this profile? e.g. does karl follow raphael? (true/false)\r\n  await updateflwruser(profileDocId, followingUserId, isFollowingProfile);\r\n}\r\n","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from 'react';\n\n/**\n * @internal\n */\nconst SkeletonThemeContext = React.createContext({});\n\n/* eslint-disable react/no-array-index-key */\nconst defaultEnableAnimation = true;\n// For performance & cleanliness, don't add any inline styles unless we have to\nfunction styleOptionsToCssProperties({ baseColor, highlightColor, width, height, borderRadius, circle, direction, duration, enableAnimation = defaultEnableAnimation, }) {\n    const style = {};\n    if (direction === 'rtl')\n        style['--animation-direction'] = 'reverse';\n    if (typeof duration === 'number')\n        style['--animation-duration'] = `${duration}s`;\n    if (!enableAnimation)\n        style['--pseudo-element-display'] = 'none';\n    if (typeof width === 'string' || typeof width === 'number')\n        style.width = width;\n    if (typeof height === 'string' || typeof height === 'number')\n        style.height = height;\n    if (typeof borderRadius === 'string' || typeof borderRadius === 'number')\n        style.borderRadius = borderRadius;\n    if (circle)\n        style.borderRadius = '50%';\n    if (typeof baseColor !== 'undefined')\n        style['--base-color'] = baseColor;\n    if (typeof highlightColor !== 'undefined')\n        style['--highlight-color'] = highlightColor;\n    return style;\n}\nfunction Skeleton({ count = 1, wrapper: Wrapper, className: customClassName, containerClassName, containerTestId, circle = false, style: styleProp, ...originalPropsStyleOptions }) {\n    var _a, _b;\n    const contextStyleOptions = React.useContext(SkeletonThemeContext);\n    const propsStyleOptions = { ...originalPropsStyleOptions };\n    // DO NOT overwrite style options from the context if `propsStyleOptions`\n    // has properties explicity set to undefined\n    for (const [key, value] of Object.entries(originalPropsStyleOptions)) {\n        if (typeof value === 'undefined') {\n            delete propsStyleOptions[key];\n        }\n    }\n    // Props take priority over context\n    const styleOptions = {\n        ...contextStyleOptions,\n        ...propsStyleOptions,\n        circle,\n    };\n    // `styleProp` has the least priority out of everything\n    const style = {\n        ...styleProp,\n        ...styleOptionsToCssProperties(styleOptions),\n    };\n    let className = 'react-loading-skeleton';\n    if (customClassName)\n        className += ` ${customClassName}`;\n    const inline = (_a = styleOptions.inline) !== null && _a !== void 0 ? _a : false;\n    const elements = [];\n    // Without the <br />, the skeleton lines will all run together if\n    // `width` is specified\n    for (let i = 0; i < count; i++) {\n        const skeletonSpan = (React.createElement(\"span\", { className: className, style: style, key: i }, \"\\u200C\"));\n        if (inline) {\n            elements.push(skeletonSpan);\n        }\n        else {\n            elements.push(React.createElement(React.Fragment, { key: i },\n                skeletonSpan,\n                React.createElement(\"br\", null)));\n        }\n    }\n    return (React.createElement(\"span\", { className: containerClassName, \"data-testid\": containerTestId, \"aria-live\": \"polite\", \"aria-busy\": (_b = styleOptions.enableAnimation) !== null && _b !== void 0 ? _b : defaultEnableAnimation }, Wrapper\n        ? elements.map((el, i) => React.createElement(Wrapper, { key: i }, el))\n        : elements));\n}\n\nfunction SkeletonTheme({ children, ...styleOptions }) {\n    return (React.createElement(SkeletonThemeContext.Provider, { value: styleOptions }, children));\n}\n\nexport { SkeletonTheme, Skeleton as default };\n"],"names":["auth","getAuth","Header","user","useContext","userathContext","className","to","ROUTS","src","alt","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","type","title","onClick","signOut","onKeyDown","event","key","displayName","useUser","useState","activeUser","setActiveUser","useAuthListener","useEffect","getUseobjbyId","response","uid","getUserObjByUserId","doesUsernameExist","username","firebase","collection","where","toLowerCase","get","result","docs","length","getUserByUsername","map","item","data","docId","id","userId","getsuggetionProfile","following","limit","filter","profile","includes","updateloginusflw","maindocId","profileId","isFollowing","doc","update","FieldValue","updateflwruser","userDocId","followers","getphoto","userFollowingPhotos","photo","Promise","all","userLikedphoto","likes","photoWithuserDetails","getuserPhotosByUsername","isUserFollowingProfile","loggedInUserUsername","profileUserId","console","log","toggleFollow","isFollowingProfile","activeUserDocId","profileDocId","followingUserId","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","excluded","sourceKeys","indexOf","sourceSymbolKeys","prototype","propertyIsEnumerable","call","SkeletonThemeContext","React","Skeleton","_a","_b","count","Wrapper","wrapper","customClassName","containerClassName","containerTestId","circle","styleProp","style","originalPropsStyleOptions","contextStyleOptions","propsStyleOptions","entries","styleOptions","baseColor","highlightColor","width","height","borderRadius","direction","duration","enableAnimation","styleOptionsToCssProperties","inline","elements","skeletonSpan","el"],"sourceRoot":""}