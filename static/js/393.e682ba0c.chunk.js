"use strict";(self.webpackChunkinstagram=self.webpackChunkinstagram||[]).push([[393],{3287:function(e,r,t){t.d(r,{Z:function(){return l}});var n=t(2791),a=t(6307),o=t(3504),s=t(4693),i=t(4822),c=t(184),u=(0,i.v0)();function l(){var e=(0,n.useContext)(a.Z);return(0,c.jsx)("header",{className:"h-16 bg-white border border-gray-primary mb-8",children:(0,c.jsx)("div",{className:"container mx-auto max-w-screen-lg h-full",children:(0,c.jsxs)("div",{className:"flex  h-full justify-between",children:[(0,c.jsx)("div",{className:"text-gray-600 text-center  items-center align-items cursor-pointer",children:(0,c.jsx)("h1",{className:"flex justify-center   w-full",children:(0,c.jsxs)(o.rU,{to:s.h1,children:["  ",(0,c.jsx)("img",{src:"/images/logo.png",alt:"logo",className:"mt-4 mr-2 w-6/12 mb-4"})]})})}),(0,c.jsx)("div",{className:"flex text-gray-700 text-center align-items items-center ",children:e?(0,c.jsxs)(c.Fragment,{children:["(",(0,c.jsx)(o.rU,{to:s.h1,"aria-label":"Dashboard",children:(0,c.jsx)("svg",{className:"w-8 mr-6 text-black-light cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,c.jsx)("button",{type:"button",title:"Log Out",onClick:function(){return(0,i.w7)(u)},onKeyDown:function(e){"Enter"==e.key&&(0,i.w7)(u)},children:(0,c.jsx)("svg",{className:"w-8 mr-6 text-black-light cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),(0,c.jsx)("div",{className:"flex items-center cursor-pointer",children:(0,c.jsx)(o.rU,{to:"/p/".concat(e.displayName),children:"Abdelrahman kalefa"==e.displayName||"dali"==e.displayName||"orwell"==e.displayName||"raphael"==e.displayName?(0,c.jsx)("img",{className:"flex rounded-full h-8 w-8",src:"images/avatars/".concat(e.displayName,".jpg"),alt:"".concat(e.displayName)}):(0,c.jsx)("img",{className:"flex rounded-full h-8 w-8",src:"images/avatars/default.png",alt:"".concat(e.displayName)})})})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.rU,{to:s.ym,children:(0,c.jsx)("button",{className:"w-20 font-bold bg-blue-medium text-white text-sm rounded h-8 ",children:" Log In"})}),(0,c.jsx)(o.rU,{to:s._5,children:(0,c.jsx)("button",{className:"w-20 font-bold   text-blue-medium text-sm rounded h-8 ",children:"Sign up"})})]})})]})})})}},6920:function(e,r,t){t.d(r,{Z:function(){return l}});var n=t(5861),a=t(885),o=t(7757),s=t.n(o),i=t(2791),c=t(7606),u=t(1737);function l(){var e=(0,i.useState)(),r=(0,a.Z)(e,2),t=r[0],o=r[1],l=(0,u.Z)().user;return(0,i.useEffect)((function(){function e(){return e=(0,n.Z)(s().mark((function e(r){var t,n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.NO)(r);case 2:t=e.sent,n=(0,a.Z)(t,1),i=n[0],o(i);case 6:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}null!==l&&void 0!==l&&l.uid&&function(r){e.apply(this,arguments)}(l.uid)}),[l]),{user:t,setActiveUser:o}}},7606:function(e,r,t){t.d(r,{$K:function(){return u},dQ:function(){return p},NO:function(){return d},XM:function(){return h},lP:function(){return y},JN:function(){return v},WT:function(){return b},JR:function(){return Z},IU:function(){return N},Gm:function(){return I}});var n=t(885),a=t(1413),o=t(5861),s=t(7757),i=t.n(s),c=t(1720);function u(e){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)(i().mark((function e(r){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.w.firestore().collection("users").where("username","==",r.toLowerCase()).get();case 2:return t=e.sent,e.abrupt("return",t.docs.length>0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(i().mark((function e(r){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.w.firestore().collection("users").where("username","==",r.toLowerCase()).get();case 2:return t=e.sent,e.abrupt("return",t.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(i().mark((function e(r){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.w.firestore().collection("users").where("userId","==",r).get();case 2:return t=e.sent,n=t.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,r){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)(i().mark((function e(r,t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.w.firestore().collection("users").limit(10).get();case 2:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})).filter((function(e){return e.userId!=r&&!t.includes(e.userId)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,r,t){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)(i().mark((function e(r,t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.w.firestore().collection("users").doc(r).update({following:n?c.G.arrayRemove(t):c.G.arrayUnion(t)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,r,t){return g.apply(this,arguments)}function g(){return(g=(0,o.Z)(i().mark((function e(r,t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.w.firestore().collection("users").doc(t).update({followers:n?c.G.arrayRemove(r):c.G.arrayUnion(r)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,r){return j.apply(this,arguments)}function j(){return j=(0,o.Z)(i().mark((function e(r,t){var n,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.w.firestore().collection("photos").where("userId","in",t).get();case 2:return n=e.sent,s=n.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})),e.next=6,Promise.all(s.map(function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,t.likes.includes(r)&&(n=!0),e.next=4,d(t.userId);case 4:return o=e.sent,s=o[0].username,e.abrupt("return",(0,a.Z)((0,a.Z)({username:s},t),{},{userLikedphoto:n}));case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()));case 6:return u=e.sent,e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function Z(e){return k.apply(this,arguments)}function k(){return(k=(0,o.Z)(i().mark((function e(r){var t,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(r);case 2:return t=e.sent,o=(0,n.Z)(t,1),s=o[0],e.next=7,c.w.firestore().collection("photos").where("userId","==",s.userId).get();case 7:return u=e.sent,e.abrupt("return",u.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,r){return O.apply(this,arguments)}function O(){return(O=(0,o.Z)(i().mark((function e(r,t){var o,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r,t),e.next=3,c.w.firestore().collection("users").where("username","==",r).where("following","array-contains",t).get();case 3:o=e.sent,s=o.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})),u=(0,n.Z)(s,1),l=u[0],p=void 0===l?{}:l,console.log("res",p);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,r,t,n,a){return C.apply(this,arguments)}function C(){return(C=(0,o.Z)(i().mark((function e(r,t,n,a,o){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t,a,r);case 2:return e.next=4,v(n,o,r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1413:function(e,r,t){t.d(r,{Z:function(){return o}});var n=t(4942);function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}},6839:function(e,r,t){t.d(r,{Z:function(){return u}});var n=t(885),a=t(1413);function o(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=t(2791),i=["count","wrapper","className","containerClassName","containerTestId","circle","style"],c=s.createContext({});function u(e){for(var r,t,u=e.count,l=void 0===u?1:u,p=e.wrapper,f=e.className,d=e.containerClassName,m=e.containerTestId,h=e.circle,w=void 0!==h&&h,y=e.style,x=o(e,i),v=s.useContext(c),g=(0,a.Z)({},x),b=0,j=Object.entries(x);b<j.length;b++){var Z=(0,n.Z)(j[b],2),k=Z[0];"undefined"===typeof Z[1]&&delete g[k]}var N=(0,a.Z)((0,a.Z)((0,a.Z)({},v),g),{},{circle:w}),O=(0,a.Z)((0,a.Z)({},y),function(e){var r=e.baseColor,t=e.highlightColor,n=e.width,a=e.height,o=e.borderRadius,s=e.circle,i=e.direction,c=e.duration,u=e.enableAnimation,l=void 0===u||u,p={};return"rtl"===i&&(p["--animation-direction"]="reverse"),"number"===typeof c&&(p["--animation-duration"]="".concat(c,"s")),l||(p["--pseudo-element-display"]="none"),"string"!==typeof n&&"number"!==typeof n||(p.width=n),"string"!==typeof a&&"number"!==typeof a||(p.height=a),"string"!==typeof o&&"number"!==typeof o||(p.borderRadius=o),s&&(p.borderRadius="50%"),"undefined"!==typeof r&&(p["--base-color"]=r),"undefined"!==typeof t&&(p["--highlight-color"]=t),p}(N)),I="react-loading-skeleton";f&&(I+=" ".concat(f));for(var C=null!==(r=N.inline)&&void 0!==r&&r,P=[],E=0;E<l;E++){var L=s.createElement("span",{className:I,style:O,key:E},"\u200c");C?P.push(L):P.push(s.createElement(s.Fragment,{key:E},L,s.createElement("br",null)))}return s.createElement("span",{className:d,"data-testid":m,"aria-live":"polite","aria-busy":null===(t=N.enableAnimation)||void 0===t||t},p?P.map((function(e,r){return s.createElement(p,{key:r},e)})):P)}}}]);
//# sourceMappingURL=393.e682ba0c.chunk.js.map