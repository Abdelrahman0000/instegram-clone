"use strict";(self.webpackChunkinstagram=self.webpackChunkinstagram||[]).push([[731],{7731:function(e,r,t){t.r(r),t.d(r,{default:function(){return h}});var n=t(5861),a=t(885),s=t(7757),u=t.n(s),o=t(2791),c=t(3504),i=t(7606),l=t(6871),p=t(4693),f=t(1720),d=t(4822),m=t(184);function h(){var e=(0,o.useState)(""),r=(0,a.Z)(e,2),t=r[0],s=r[1],h=(0,o.useState)(""),x=(0,a.Z)(h,2),y=x[0],w=x[1],b=(0,o.useState)(""),g=(0,a.Z)(b,2),v=g[0],Z=g[1],j=(0,o.useState)(""),k=(0,a.Z)(j,2),N=k[0],O=k[1],I=(0,o.useState)(""),P=(0,a.Z)(I,2),C=P[0],S=P[1],E=(0,l.s0)(),L=""==t||""==N||""==v||""==y,D=function(){var e=(0,n.Z)(u().mark((function e(r){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,(0,i.$K)(y);case 3:if(e.sent.length){e.next=26;break}return e.prev=5,n=(0,d.v0)(),e.next=9,(0,d.Xb)(n,t,N);case 9:return a=e.sent,(0,d.ck)(n.currentUser,{displayName:y}),e.next=13,f.w.firestore().collection("users").add({displayName:y,userId:a.user.uid,username:y.toLowerCase(),fullName:y,emailAddress:t.toLowerCase(),following:["2"],dateCreated:Date.now()});case 13:E(p.h1),e.next=24;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(2),s(""),O(""),w(""),Z(""),S(e.t0.message);case 24:e.next=27;break;case 26:S("that user name is already exist ,please try anthore");case 27:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(r){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){document.title="Sign up-Instgrame"}),[]),(0,m.jsx)("div",{className:"container flex mx-auto max-w-screen-md items-center h-screen ",children:(0,m.jsxs)("div",{className:"flex flex-col  sm:w-2/5 w-10/12 m-auto",children:[(0,m.jsxs)("div",{className:"flex flex-col bg-white justify-center items-center border border-gray-primary mb-4 p-4",children:[(0,m.jsx)("h1",{className:"flex justify-center w-full",children:(0,m.jsx)("img",{src:"/images/logo.png",alt:"logo",className:"mt-2 w-6/12 mb-4"})}),(0,m.jsx)("h2",{className:"font-bold p-2 text-base text-center h-3/4 text-gray-base",children:"Sign up to see photos and videos from your friends."}),C&&(0,m.jsx)("p",{className:"mb-4 text-xs text-red-primary",children:C}),(0,m.jsxs)("form",{onSubmit:D,method:"POST",children:[(0,m.jsx)("input",{type:"","aria-label":"Enter your Phone number",placeholder:"enter your phone number",className:"text-sm text-gray-base py-5 px-4 mr-3 border w-full h-2 border-gray-primary mb-2 rounded",onChange:function(e){var r=e.target;return Z(r.value)},value:v}),(0,m.jsx)("input",{type:"text","aria-label":"Enter your name",placeholder:"enter your name",className:"text-sm text-gray-base py-5 px-4 mr-3 border w-full h-2 border-gray-primary mb-2 rounded",onChange:function(e){var r=e.target;return w(r.value)},value:y}),(0,m.jsx)("input",{type:"text","aria-label":"Enter your Email",placeholder:"enter email",className:"text-sm text-gray-base py-5 px-4 mr-3 border w-full h-2 border-gray-primary mb-2 rounded",onChange:function(e){var r=e.target;return s(r.value)},value:t}),(0,m.jsx)("input",{"aria-label":"Enter your password",type:"password",value:N,placeholder:"enter password",className:"text-sm text-gray-base py-5 px-4 border mr-3  w-full h-2 border-gray-primary mb-2 rounded ",onChange:function(e){var r=e.target;return O(r.value)}}),(0,m.jsx)("button",{disabled:L,className:"bg-blue-medium text-white rounded w-full h-8 font-bold ".concat(L&&"opacity-50 "),children:"Log In"})]})]}),(0,m.jsx)("div",{className:"flex justify-center items-center flex-col w-full bg-white rounded p-4 border border-gray-primary",children:(0,m.jsxs)("p",{className:"text-sm ",children:[" ","do you have acount?"," ",(0,m.jsx)(c.rU,{to:"/Login",className:"font-blod text-blue-medium",children:"Log In"})]})})]})})}},7606:function(e,r,t){t.d(r,{$K:function(){return i},dQ:function(){return p},NO:function(){return d},XM:function(){return h},lP:function(){return y},JN:function(){return b},WT:function(){return v},JR:function(){return j},IU:function(){return N},Gm:function(){return I}});var n=t(885),a=t(1413),s=t(5861),u=t(7757),o=t.n(u),c=t(1720);function i(e){return l.apply(this,arguments)}function l(){return(l=(0,s.Z)(o().mark((function e(r){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.w.firestore().collection("users").where("username","==",r.toLowerCase()).get();case 2:return t=e.sent,e.abrupt("return",t.docs.length>0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=(0,s.Z)(o().mark((function e(r){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.w.firestore().collection("users").where("username","==",r.toLowerCase()).get();case 2:return t=e.sent,e.abrupt("return",t.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=(0,s.Z)(o().mark((function e(r){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.w.firestore().collection("users").where("userId","==",r).get();case 2:return t=e.sent,n=t.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,r){return x.apply(this,arguments)}function x(){return(x=(0,s.Z)(o().mark((function e(r,t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.w.firestore().collection("users").limit(10).get();case 2:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})).filter((function(e){return e.userId!=r&&!t.includes(e.userId)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,r,t){return w.apply(this,arguments)}function w(){return(w=(0,s.Z)(o().mark((function e(r,t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.w.firestore().collection("users").doc(r).update({following:n?c.G.arrayRemove(t):c.G.arrayUnion(t)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,r,t){return g.apply(this,arguments)}function g(){return(g=(0,s.Z)(o().mark((function e(r,t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.w.firestore().collection("users").doc(t).update({followers:n?c.G.arrayRemove(r):c.G.arrayUnion(r)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,r){return Z.apply(this,arguments)}function Z(){return Z=(0,s.Z)(o().mark((function e(r,t){var n,u,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.w.firestore().collection("photos").where("userId","in",t).get();case 2:return n=e.sent,u=n.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})),e.next=6,Promise.all(u.map(function(){var e=(0,s.Z)(o().mark((function e(t){var n,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,t.likes.includes(r)&&(n=!0),e.next=4,d(t.userId);case 4:return s=e.sent,u=s[0].username,e.abrupt("return",(0,a.Z)((0,a.Z)({username:u},t),{},{userLikedphoto:n}));case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()));case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}function j(e){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(o().mark((function e(r){var t,s,u,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(r);case 2:return t=e.sent,s=(0,n.Z)(t,1),u=s[0],e.next=7,c.w.firestore().collection("photos").where("userId","==",u.userId).get();case 7:return i=e.sent,e.abrupt("return",i.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,r){return O.apply(this,arguments)}function O(){return(O=(0,s.Z)(o().mark((function e(r,t){var s,u,i,l,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r,t),e.next=3,c.w.firestore().collection("users").where("username","==",r).where("following","array-contains",t).get();case 3:s=e.sent,u=s.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})),i=(0,n.Z)(u,1),l=i[0],p=void 0===l?{}:l,console.log("res",p);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,r,t,n,a){return P.apply(this,arguments)}function P(){return(P=(0,s.Z)(o().mark((function e(r,t,n,a,s){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t,a,r);case 2:return e.next=4,b(n,s,r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1413:function(e,r,t){t.d(r,{Z:function(){return s}});var n=t(4942);function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}}}]);
//# sourceMappingURL=731.6ed9c7e7.chunk.js.map