{"version":3,"file":"static/js/577.e3ad1c5a.chunk.js","mappings":"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","sources":["components/profile/header.js","components/profile/photos.js","components/profile/index.js","pages/profile.js"],"sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport useUser from \"../../hooks/use-user\";\r\nimport { getUserByUsername, isUserFollowingProfile } from \"../../services/firebase\";\r\nimport { toggleFollow } from \"../../services/firebase\";\r\n\r\nexport default function Header({\r\n  photosCount,\r\n  followerCount,\r\n  setFollowerCount,\r\n  profile: {\r\n    docId: profileDocId,\r\n    userId: profileUserId,\r\n    fullName,\r\n    followers = [],\r\n    following = [],\r\n    username: profileUsername,\r\n  },\r\n}) {\r\n  const [isfollowingprofile, setisfollowing] = useState(false);\r\n  const { user = {} } = useUser();\r\n  const activeBtnFollow = user?.username && user?.username !== profileUsername;\r\n  const handleToggleFollow = async () => {\r\n    setisfollowing((isfollowingprofile) => !isfollowingprofile);\r\n\r\n    setFollowerCount({\r\n      followerCount: isfollowingprofile ? followerCount - 1 : followerCount + 1,\r\n    });\r\n    await toggleFollow(\r\n      isfollowingprofile,\r\n      user.docId,\r\n      profileDocId,\r\n      profileUserId,\r\n      user.userId\r\n    );\r\n  };\r\n  useEffect(() => {\r\n    async function Isloggedinuserfollwoinprofile() {\r\n      const isfollowing = await isUserFollowingProfile(\r\n        user.username,\r\n        profileUserId\r\n      );\r\n\r\n      setisfollowing(!isfollowing);\r\n    }\r\n    if ((user.username, profileUserId)) {\r\n      Isloggedinuserfollwoinprofile();\r\n    }\r\n  }, [user.username, profileUserId]);\r\nfullName;\r\ngetUserByUsername;\r\n  return (\r\n    <div className=\"grid grid-cols-3 gap-4 justify-between m-auto max-w-screen-lg\">\r\n      <div className=\"flex justify-center container\">\r\n        {(user.username && profileUsername == \"abdelrahman kalefa\") ||\r\n        profileUsername == \"dali\" ||\r\n        profileUsername == \"orwell\" ||\r\n        profileUsername == \"raphael\" ? (\r\n          <img\r\n           \r\n            src={`/images/avatars/${profileUsername}.jpg`}\r\n            alt={`${user.username}`}\r\n            className=\"rounded-full sm:w-40 w-20 h-20 sm:h-40 flex\" />\r\n        ) : (\r\n          <img\r\n           \r\n            src={`/images/avatars/default.png`}\r\n            className=\"rounded-full sm:w-40 w-20 h-20 sm:h-40 flex\"\r\n            alt={`${user.username}`}\r\n          />\r\n        )}\r\n        {/* \r\n/* <img src={`/images/avatars/${ profileUsername}.jpg`}\r\n           alt={`${user.username}`}\r\n           className='rounded-full sm:w-40 w-20 h-20 sm:h-40 flex'\r\n           /> */}\r\n      </div>\r\n      <div className=\"flex items-center justify-center flex-col col-span-2 \">\r\n        <div className=\" items-center container flex\">\r\n          <p className=\" text-2xl mr-4\">{profileUsername}</p>\r\n          {activeBtnFollow && (\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleToggleFollow}\r\n              className=\" bg-blue-medium font-bold text-center rounded text-white w-20 h-8\"\r\n            >\r\n              {isfollowingprofile ? \"unfollow\" : \"follow\"}\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className=\"container flex flex-wrap mt-4\">\r\n          {followers == undefined || following == undefined ? (\r\n            <Skeleton count={1} height={677} width={24} />\r\n          ) : (\r\n            <>\r\n              <p className=\"mr-10\">\r\n                <span className=\"font-bold\">{photosCount}</span> Photos\r\n              </p>\r\n              <p className=\"mr-10\">\r\n                <span className=\"font-bold\">{followerCount}</span>{\" \"}\r\n                {followerCount == 1 ? \"Follower\" : \"Followers\"}\r\n              </p>\r\n              <p className=\"mr-10\">\r\n                <span className=\"font-bold\">{following.length}</span> Following\r\n              </p>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nHeader.propTypes = {\r\n  photosCount: PropTypes.number.isRequired,\r\n  followerCount: PropTypes.number.isRequired,\r\n  setFollowerCount: PropTypes.func.isRequired,\r\n  profile: PropTypes.shape({\r\n    docId: PropTypes.string,\r\n    userId: PropTypes.string,\r\n    fullName: PropTypes.string,\r\n    username: PropTypes.string,\r\n    followers: PropTypes.array,\r\n    following: PropTypes.array,\r\n  }).isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport React from \"react\";\r\nexport default function Photos({ photos }) {\r\n  return (\r\n    <div className=\"h-16  border-t border-gray-primary mt-12 pt-4\">\r\n      <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4 sm:gap-8 mt-4 mb-12\">\r\n        {!photos ? (\r\n          <Skeleton count={12} width={320} height={400} />\r\n        ) : photos.length > 0 ? (\r\n          photos.map((photo) => (\r\n            <div key={photo.docId} className=\"relative group\">\r\n              <img src={photo.imageSrc} alt={photo.caption} />\r\n              <div className=\"absolute bottom-0 left-0 bg-gray-200 z-10 w-full justify-evenly items-center h-full bg-black-faded group-hover:flex hidden\">\r\n                <p className=\"flex items-center text-white font-bold\">\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 20 20\"\r\n                    fill=\"currentColor\"\r\n                    className=\"w-8 mr-4\"\r\n                  >\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                  </svg>\r\n                  {photo.likes.length}\r\n                </p>\r\n\r\n                <p className=\"flex items-center text-white font-bold\">\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 20 20\"\r\n                    fill=\"currentColor\"\r\n                    className=\"w-8 mr-4\"\r\n                  >\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                  </svg>\r\n                  {photo.comments.length}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : null}\r\n      </div>\r\n      {!photos ||\r\n        (photos.length == 0 && (\r\n          <p className=\"text-2xl text-center\">No Posts Yet</p>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nPhotos.propTypes = {\r\n  photos: PropTypes.array.isRequired,\r\n};\r\n","import { useReducer, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Header from \"./header\";\r\nimport React from \"react\";\r\nimport {\r\n\r\n  getuserPhotosByUsername,\r\n} from \"../../services/firebase\";\r\nimport Photos from \"./photos\";\r\n\r\nexport default function UserProfile({ user }) {\r\n  const reducer = (state, newstate) => ({ ...state, ...newstate });\r\n\r\n  const initialState = {\r\n    profile: {},\r\n    photoCollection: [],\r\n    followerCount: 0,\r\n  };\r\n\r\n  const [{ profile, photoCollection, followerCount }, dispatch] = useReducer(\r\n    reducer,\r\n    initialState\r\n  );\r\n\r\n  useEffect(() => {\r\n    async function getProfileinfoAndphotos() {\r\n      const photos = await getuserPhotosByUsername(user.username);\r\n      dispatch({\r\n        profile: user,\r\n        photoCollection: photos,\r\n        followerCount: user.followers.length,\r\n      });\r\n      console.log(photos);\r\n    }\r\n    getProfileinfoAndphotos();\r\n  }, [user.username]);\r\n\r\n  return (\r\n    <>\r\n      {\" \"}\r\n      <Header\r\n        photosCount={photoCollection ? photoCollection.length : 0}\r\n        profile={profile}\r\n        followerCount={followerCount}\r\n        setFollowerCount={dispatch}\r\n      />\r\n      <Photos photos={photoCollection} />\r\n    </>\r\n  );\r\n}\r\n\r\nUserProfile.propTypes = {\r\n  user: PropTypes.shape({\r\n    dateCreated: PropTypes.number,\r\n    emailAddress: PropTypes.string,\r\n    followers: PropTypes.array,\r\n    following: PropTypes.array,\r\n    fullName: PropTypes.string,\r\n    userId: PropTypes.string,\r\n    username: PropTypes.string,\r\n  }),\r\n};\r\n","import { useParams, useNavigate } from \"react-router\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getUserByUsername } from \"../services/firebase\";\r\nimport * as ROUTS from \"../constants/routs\";\r\nimport React from \"react\";\r\nimport Header from \"../components/header\";\r\nimport UserProfile from \"../components/profile\";\r\nexport default function profiler() {\r\n  const { username } = useParams();\r\n  const [doesExist, setDoesExist] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const onhestory = useNavigate();\r\n  useEffect(() => {\r\n    async function Cheecktheuser() {\r\n      const user = await getUserByUsername(username);\r\n      if (user.length > 0) {\r\n        setUser(user[0]);\r\n        setDoesExist(true);\r\n      } else {\r\n        onhestory(ROUTS.NOT_FOUND);\r\n      }\r\n    }\r\n    Cheecktheuser();\r\n  }, [username]);\r\n\r\n  return doesExist ? (\r\n    <div className=\" bg-gray-background\">\r\n      <Header />\r\n      <div className=\" m-auto max-w-screen-lg\">\r\n        <UserProfile user={user} />{\" \"}\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n}\r\n"],"names":["Header","photosCount","followerCount","setFollowerCount","profile","profileDocId","docId","profileUserId","userId","fullName","followers","following","profileUsername","username","useState","isfollowingprofile","setisfollowing","useUser","user","activeBtnFollow","handleToggleFollow","toggleFollow","useEffect","isUserFollowingProfile","isfollowing","Isloggedinuserfollwoinprofile","getUserByUsername","className","src","alt","type","onClick","undefined","count","height","width","length","Photos","photos","map","photo","imageSrc","caption","xmlns","viewBox","fill","fillRule","d","clipRule","likes","comments","UserProfile","useReducer","state","newstate","photoCollection","dispatch","getuserPhotosByUsername","console","log","getProfileinfoAndphotos","profiler","useParams","doesExist","setDoesExist","setUser","onhestory","useNavigate","ROUTS","Cheecktheuser"],"sourceRoot":""}